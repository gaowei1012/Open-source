---
title: 小程序开发指南(三)
date: 2017-08-28 14:32:11
tags: [小程序]
categories: 小程序开发指南
---
接着上面一篇文章

一 .App()
App() 用来注册一个小程序，在启动时调用，并创建小程序，直到销毁，在整个小程序的生命周期过程中，它都是存在的，（全局）
注意: 1) . 只能注册一次
2) . 在代码任意位置都可以通过 getApp(), 获取这个唯一小程序单例
var appinstance = getApp();
它是object类型 {}， 指定小程序声明周期函数
onLuanch 函数 （监听小程序初始化，当小程序加载是会触发，全局只会出发一次）
onShow 函数 （监听小程序显示，当小程序启动，或从后台进入前台时， 会触发onshow函数）
onHide 函数 （监听小程序隐藏， 当小程序从前台进入后台时会触发）
× globalData() 全局对象
二. page() object类型
onLoad (监听页面加载 页面刚加载时会调用一次，只会调用一次)
onReady(页面初次加渲染触发，只会调用一次 html -- onReady)
onshow(监听页面显示 ， 例如 页面切换)
onHide(监听页面隐藏， )
onUnload (监听页面卸载， 在redirectTo 或 navigation 的时候调用)
onPullDownRefresh (监听用户下拉刷新，需要在开启window enablePullDownRefresh ; 当处理完数据刷新后，wx.stopPullDownRefresh 可以停止当前页面的下拉刷新)
onReachBottom （下拉触底事件， 在页面向上拉时触发此事件 ）
data 页内初始化数据
三. 页面路由
getCurrentPages() 该函数用于获取当前页面栈的实例，以数组的形式按栈给出， 第一个页面是首页，最后一个页面是当前页；
详见 API（https://mp.weixin.qq.com/debug/wxadoc/dev/framework/app-service/route.html）